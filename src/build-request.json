{
  "kind": "build_request",
  "title": "Fix binder grid layout not responding to custom selection",
  "priority": "high",
  "requirements": [
    {
      "id": "REQ-1",
      "text": "Fix the BinderViewScreen component to properly apply the user's selected grid layout (2x2, 3x3, 4x3, 5x4) instead of always displaying 3x3",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-1"
        ],
        "quotes": [
          "no it's not working. Only showing 3 x 3 and when I choose different grids it's not changing"
        ]
      },
      "acceptanceCriteria": [
        "When a user selects a different grid layout from settings, the binder view immediately reflects the new grid dimensions",
        "The grid layout persists correctly across page navigations and browser refreshes",
        "All grid options (2x2, 3x3, 4x3, 5x4) render with correct column and row counts"
      ]
    },
    {
      "id": "REQ-2",
      "text": "Verify that useGetUserLayout hook correctly fetches and returns the current user's layout preference",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-1"
        ],
        "quotes": [
          "when I choose different grids it's not changing"
        ]
      },
      "acceptanceCriteria": [
        "The useGetUserLayout hook successfully retrieves the user's saved layout from backend",
        "Layout changes made in ProfileSettingsDialog are immediately reflected in the hook's return value",
        "Hook properly handles loading and error states"
      ]
    },
    {
      "id": "REQ-3",
      "text": "Ensure the dynamic CSS Grid implementation in BinderViewScreen correctly maps layout preset strings to grid-template-columns and grid-template-rows values",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-1"
        ]
      },
      "acceptanceCriteria": [
        "Layout preset '2x2' correctly applies 2 columns and 2 rows",
        "Layout preset '3x3' correctly applies 3 columns and 3 rows",
        "Layout preset '4x3' correctly applies 4 columns and 3 rows",
        "Layout preset '5x4' correctly applies 5 columns and 4 rows",
        "Cards are positioned correctly within the grid for each layout"
      ]
    },
    {
      "id": "REQ-4",
      "text": "Verify that useUpdateUserLayout mutation successfully saves the selected layout to the backend and invalidates relevant queries",
      "target": "both",
      "source": {
        "messageIds": [
          "msg-1"
        ]
      },
      "acceptanceCriteria": [
        "When a user selects a new layout in ProfileSettingsDialog, the mutation successfully updates the backend",
        "After successful update, the useGetUserLayout query is invalidated and refetches",
        "Error states from the mutation are properly handled and displayed to the user"
      ]
    }
  ],
  "constraints": [
    "Do not modify the backend schema or main.mo layout management logic",
    "Maintain the existing layout preset options (2x2, 3x3, 4x3, 5x4)",
    "Preserve the ProfileSettingsDialog layout selection UI"
  ],
  "nonGoals": [
    "Adding new grid layout options beyond the existing presets",
    "Changing the visual styling or theme of the binder view",
    "Modifying the admin layout preset management functionality"
  ],
  "imageRequirements": {
    "required": [],
    "edits": []
  }
}